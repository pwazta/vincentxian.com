---
alwaysApply: true
---
FORMAT FOR FILES:
src/
├── types/          # Domain type definitions (single source of truth)
├── mappings/       # Database-to-domain type converters
├── services/       # Backend business logic with dependency injection
├── features/       # Frontend features (components, hooks, utils)
├── server/         # tRPC routers and API configuration
└── app/            # Next.js app directory
CODE QUALITY:
- files should be ideally 200 lines but acceptable up to 300 lines. (over by 300 only if it doesn't make sense to abstract and overcomplicate).
- reuse existing code where possible.
- don't hardcode types.
- On every file, 1st line describes the file's purpose. 2nd line defines where the file is used.
- use semantic headers.
<!-- - IGNORE THIS LINE never write text using <p> or <h1>/<h2>... use <Text> and <Heading>: refer to typography.ts's comments for where to use each variant / size. -->
- never use any for types.